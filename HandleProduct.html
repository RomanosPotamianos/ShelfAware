<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ShelfAware - Handle Product</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --beige: #f5efe6;
      --nav-bg: #ffffff;
      --accent: #cde8ff;
      --muted: #6b7280;
      --card: #ffffff;
      --shadow: 0 6px 18px rgba(16,24,40,0.08);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      background: linear-gradient(180deg, var(--beige) 0%, #fbf8f4 100%);
      min-height: 100vh;
      color: #0f172a;
      font-family: 'Inter', system-ui;
      padding: 28px;
    }

    /* Navigation */
    .topnav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: var(--nav-bg);
      padding: 14px 20px;
      border-radius: 12px;
      box-shadow: var(--shadow);
      max-width: 1100px;
      margin: 0 auto 22px;
      position: sticky;
      top: 18px;
      z-index: 10;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 600;
      font-size: 18px;
    }

    .brand .logo {
      width: 40px;
      height: 40px;
      border-radius: 8px;
      display: inline-grid;
      place-items: center;
      background: linear-gradient(135deg, #ffd6a5, #ffb4a2);
      color: #1f2937;
      font-weight: 700;
      box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    }

    .navlinks {
      display: flex;
      gap: 12px;
      align-items: center;
    }

    .nav-btn {
      padding: 8px 14px;
      border-radius: 10px;
      background: transparent;
      border: 0;
      cursor: pointer;
      font-weight: 600;
      color: var(--muted);
      transition: all .18s ease;
    }

    .nav-btn:hover {
      transform: translateY(-2px);
      color: #111827;
    }

    .nav-btn.active {
      background: linear-gradient(180deg, #fff 0%, #f3f6ff 100%);
      box-shadow: 0 8px 24px rgba(16,24,40,0.08);
      color: #0f172a;
      border: 1px solid rgba(15,23,42,0.06);
    }

    .add-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 10px;
      background: linear-gradient(90deg, #4f46e5, #06b6d4);
      color: white;
      font-weight: 600;
      border: 0;
      cursor: pointer;
      box-shadow: 0 6px 14px rgba(79,70,229,0.16);
      transition: transform .12s ease;
    }

    .add-btn:hover {
      transform: translateY(-2px);
    }

    /* Layout */
    .container {
      max-width: 1100px;
      margin: 0 auto;
    }

    .panel {
      background: var(--card);
      border-radius: 12px;
      padding: 28px;
      box-shadow: var(--shadow);
    }

    .panel h2 {
      margin: 0 0 8px 0;
      font-size: 20px;
      color: #0f172a;
    }

    .panel-description {
      color: var(--muted);
      font-size: 13px;
      margin: 0 0 24px 0;
    }

    /* Action Selector - Radio Buttons */
    .action-selector {
      margin-bottom: 28px;
      padding: 20px;
      background: #f9fafb;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
    }

    .action-selector label {
      display: block;
      font-weight: 600;
      margin-bottom: 12px;
      color: #0f172a;
      font-size: 14px;
    }

    .radio-group {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }

    .radio-option {
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
    }

    .radio-option input[type="radio"] {
      width: 18px;
      height: 18px;
      cursor: pointer;
      accent-color: #4f46e5;
    }

    .radio-option label {
      margin: 0;
      cursor: pointer;
      font-weight: 500;
      font-size: 14px;
    }

    /* Form Sections */
    .form-section {
      animation: fadeIn 0.3s ease-in;
      margin-bottom: 24px;
      padding: 24px;
      background: #f9fafb;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .form-section h3 {
      margin: 0 0 16px 0;
      font-size: 16px;
      color: #0f172a;
    }

    .form-group {
      margin-bottom: 16px;
    }

    .form-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 8px;
      color: #0f172a;
      font-size: 14px;
    }

    .form-group input,
    .form-group select {
      width: 100%;
      padding: 10px;
      border: 1px solid #e6edf3;
      border-radius: 8px;
      font-size: 14px;
      transition: border-color 0.2s;
      font-family: 'Inter', system-ui;
      background: white;
    }

    .form-group input:focus,
    .form-group select:focus {
      outline: none;
      border-color: #4f46e5;
    }

    .form-group.two-col {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .form-group.two-col label,
    .form-group.two-col input,
    .form-group.two-col select {
      grid-column: span 1;
    }

    .warning {
      color: #dc2626;
      font-weight: 600;
      margin: 16px 0;
      padding: 12px;
      background: #fee2e2;
      border-radius: 8px;
      font-size: 13px;
    }

    /* Form Buttons */
    .form-buttons {
      display: flex;
      gap: 10px;
      margin-top: 24px;
      justify-content: flex-end;
    }

    .btn {
      padding: 10px 14px;
      border-radius: 8px;
      border: 0;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
      font-family: 'Inter', system-ui;
      transition: all 0.12s ease;
    }

    .btn.primary {
      background: linear-gradient(90deg, #4f46e5, #06b6d4);
      color: white;
      box-shadow: 0 6px 14px rgba(79,70,229,0.16);
    }

    .btn.primary:hover {
      transform: translateY(-2px);
    }

    .btn.ghost {
      background: transparent;
      border: 1px solid #e6edf3;
      color: #213547;
    }

    .btn.ghost:hover {
      background: #f9fafb;
    }

    /* Message */
    .message {
      padding: 12px;
      border-radius: 8px;
      margin: 20px 0;
      font-weight: 600;
      text-align: center;
      animation: slideDown 0.3s ease-in;
      font-size: 14px;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .message.success {
      background: #d1fae5;
      color: #065f46;
      border: 1px solid #a7f3d0;
    }

    .message.error {
      background: #fee2e2;
      color: #7f1d1d;
      border: 1px solid #fca5a5;
    }

    @media(max-width: 720px) {
      .panel {
        padding: 16px;
      }

      .form-group.two-col {
        grid-template-columns: 1fr;
      }

      .form-buttons {
        flex-direction: column;
      }

      .topnav {
        flex-direction: column;
        gap: 12px;
      }

      .navlinks {
        order: -1;
      }

      .radio-group {
        flex-direction: column;
        gap: 12px;
      }
    }
  </style>
</head>
<body>
  <nav class="topnav">
    <div style="display: flex; align-items: center; gap: 10px;">
      <button class="add-btn" id="addProductBtn" title="Add new product">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
          <path d="M12 5v14M5 12h14" stroke="white" stroke-width="2" stroke-linecap="round"/>
        </svg>
        Add Product
      </button>
    </div>
    <div class="brand">
      <div class="logo">S</div>
      ShelfAware
    </div>
    <div class="navlinks">
      <button class="nav-btn">Pantry</button>
      <button class="nav-btn">Supermarket List</button>
      <button class="nav-btn active">Handle Product</button>
    </div>
  </nav>

  <main class="container">
    <section class="panel">
      <h2>Handle Product</h2>
      <p class="panel-description">Add, edit, or delete products. Select an action below and fill in the details.</p>

      <!-- Action Selector - Radio Buttons -->
      <div class="action-selector">
        <label>Select Action</label>
        <div class="radio-group">
          <div class="radio-option">
            <input type="radio" id="addRadio" name="action" value="add" checked>
            <label for="addRadio">‚ûï Add New Product</label>
          </div>
          <div class="radio-option">
            <input type="radio" id="editRadio" name="action" value="edit">
            <label for="editRadio">‚úèÔ∏è Edit Product</label>
          </div>
          <div class="radio-option">
            <input type="radio" id="deleteRadio" name="action" value="delete">
            <label for="deleteRadio">üóëÔ∏è Delete Product</label>
          </div>
        </div>
      </div>

      <!-- Form -->
      <form id="productForm">
        <!-- ADD FORM -->
        <div id="addForm" class="form-section" style="display: block;">
          <h3>Add New Product</h3>
          <div class="form-group">
            <label for="productName">Product Name *</label>
            <input type="text" id="productName" name="productName" placeholder="e.g., Milk, Bread" required>
          </div>

          <div class="form-group two-col">
            <div>
              <label for="category">Category *</label>
              <select id="category" name="category" required>
                <option value="">-- Select --</option>
                <option value="Dairy">Dairy</option>
                <option value="Bakery">Bakery</option>
                <option value="Vegetables">Vegetables</option>
                <option value="Frozen">Frozen</option>
                <option value="Canned">Canned</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div>
              <label for="quantity">Quantity *</label>
              <input type="text" id="quantity" name="quantity" placeholder="e.g., 2 x 1L" required>
            </div>
          </div>

          <div class="form-group">
            <label for="expiryDate">Expiry Date</label>
            <input type="date" id="expiryDate" name="expiryDate">
          </div>
        </div>

        <!-- EDIT FORM -->
        <div id="editForm" class="form-section" style="display: none;">
          <h3>Edit Product</h3>
          <div class="form-group">
            <label for="editProductId">Select Product to Edit *</label>
            <select id="editProductId" name="editProductId" required>
              <option value="">-- Select Product --</option>
            </select>
          </div>

          <div class="form-group">
            <label for="editProductName">Product Name *</label>
            <input type="text" id="editProductName" name="editProductName" placeholder="e.g., Milk" required>
          </div>

          <div class="form-group two-col">
            <div>
              <label for="editCategory">Category *</label>
              <select id="editCategory" name="editCategory" required>
                <option value="">-- Select --</option>
                <option value="Dairy">Dairy</option>
                <option value="Bakery">Bakery</option>
                <option value="Vegetables">Vegetables</option>
                <option value="Frozen">Frozen</option>
                <option value="Canned">Canned</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div>
              <label for="editQuantity">Quantity *</label>
              <input type="text" id="editQuantity" name="editQuantity" placeholder="e.g., 2 x 1L" required>
            </div>
          </div>

          <div class="form-group">
            <label for="editExpiryDate">Expiry Date</label>
            <input type="date" id="editExpiryDate" name="editExpiryDate">
          </div>
        </div>

        <!-- DELETE FORM -->
        <div id="deleteForm" class="form-section" style="display: none;">
          <h3>Delete Product</h3>
          <div class="form-group">
            <label for="deleteProductId">Select Product to Delete *</label>
            <select id="deleteProductId" name="deleteProductId" required>
              <option value="">-- Select Product --</option>
            </select>
          </div>
          <p class="warning">‚ö†Ô∏è Warning: This action cannot be undone!</p>
        </div>

        <!-- Buttons -->
        <div class="form-buttons">
          <button type="reset" class="btn ghost">Cancel</button>
          <button type="submit" class="btn primary">Submit</button>
        </div>
      </form>

      <!-- Message -->
      <div id="message" class="message" style="display: none;"></div>
    </section>
  </main>

  <script>
    // Data
    let products = [
      { productId: 1, productName: 'Milk', category: 'Dairy', quantity: '2 x 1L', expiryDate: '2025-11-15' },
      { productId: 2, productName: 'Cheddar Cheese', category: 'Dairy', quantity: '1 pc', expiryDate: '2025-12-06' },
      { productId: 3, productName: 'Carrots', category: 'Vegetables', quantity: '500g', expiryDate: '2025-11-20' }
    ];

    let nextId = 4;

    // DOM Elements
    const actionRadios = document.querySelectorAll('input[name="action"]');
    const addForm = document.getElementById('addForm');
    const editForm = document.getElementById('editForm');
    const deleteForm = document.getElementById('deleteForm');
    const productForm = document.getElementById('productForm');
    const message = document.getElementById('message');

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      populateSelects();
      
      actionRadios.forEach(radio => {
        radio.addEventListener('change', handleActionChange);
      });
      
      productForm.addEventListener('submit', handleFormSubmit);
    });

    // Handle action change
    function handleActionChange(e) {
      const action = e.target.value;
      addForm.style.display = 'none';
      editForm.style.display = 'none';
      deleteForm.style.display = 'none';

      if (action === 'add') {
        addForm.style.display = 'block';
        productForm.reset();
      } else if (action === 'edit') {
        editForm.style.display = 'block';
        productForm.reset();
      } else if (action === 'delete') {
        deleteForm.style.display = 'block';
        productForm.reset();
      }
    }

    // Populate selects
    function populateSelects() {
      const editSelect = document.getElementById('editProductId');
      const deleteSelect = document.getElementById('deleteProductId');

      editSelect.innerHTML = '<option value="">-- Select Product --</option>';
      deleteSelect.innerHTML = '<option value="">-- Select Product --</option>';

      products.forEach(product => {
        const option1 = document.createElement('option');
        option1.value = product.productId;
        option1.textContent = `${product.productId} - ${product.productName} (${product.category})`;
        editSelect.appendChild(option1);

        const option2 = document.createElement('option');
        option2.value = product.productId;
        option2.textContent = `${product.productId} - ${product.productName} (${product.category})`;
        deleteSelect.appendChild(option2);
      });

      editSelect.addEventListener('change', function() {
        if (this.value) {
          const selectedProduct = products.find(p => p.productId == this.value);
          if (selectedProduct) {
            document.getElementById('editProductName').value = selectedProduct.productName;
            document.getElementById('editCategory').value = selectedProduct.category;
            document.getElementById('editQuantity').value = selectedProduct.quantity;
            document.getElementById('editExpiryDate').value = selectedProduct.expiryDate || '';
          }
        }
      });
    }

    // Handle form submit
    function handleFormSubmit(e) {
      e.preventDefault();
      const action = document.querySelector('input[name="action"]:checked').value;

      if (action === 'add') {
        addProduct();
      } else if (action === 'edit') {
        editProduct();
      } else if (action === 'delete') {
        deleteProduct();
      }
    }

    // Add product
    function addProduct() {
      const name = document.getElementById('productName').value.trim();
      const category = document.getElementById('category').value;
      const quantity = document.getElementById('quantity').value.trim();
      const expiry = document.getElementById('expiryDate').value;

      if (!name || !category || !quantity) {
        showMessage('Please fill in all required fields!', 'error');
        return;
      }

      const newProduct = {
        productId: nextId++,
        productName: name,
        category: category,
        quantity: quantity,
        expiryDate: expiry
      };

      products.push(newProduct);
      showMessage(`‚úì Product "${name}" added successfully!`, 'success');
      productForm.reset();
      populateSelects();
    }

    // Edit product
    function editProduct() {
      const productId = document.getElementById('editProductId').value;

      if (!productId) {
        showMessage('Please select a product to edit!', 'error');
        return;
      }

      const name = document.getElementById('editProductName').value.trim();
      const category = document.getElementById('editCategory').value;
      const quantity = document.getElementById('editQuantity').value.trim();
      const expiry = document.getElementById('editExpiryDate').value;

      if (!name || !category || !quantity) {
        showMessage('Please fill in all required fields!', 'error');
        return;
      }

      const product = products.find(p => p.productId == productId);
      if (product) {
        const oldName = product.productName;
        product.productName = name;
        product.category = category;
        product.quantity = quantity;
        product.expiryDate = expiry;

        showMessage(`‚úì Product "${oldName}" updated successfully!`, 'success');
        productForm.reset();
        populateSelects();
      }
    }

    // Delete product
    function deleteProduct() {
      const productId = document.getElementById('deleteProductId').value;

      if (!productId) {
        showMessage('Please select a product to delete!', 'error');
        return;
      }

      const product = products.find(p => p.productId == productId);
      if (product) {
        const productName = product.productName;
        products = products.filter(p => p.productId != productId);

        showMessage(`‚úì Product "${productName}" deleted successfully!`, 'success');
        productForm.reset();
        populateSelects();
      }
    }

    // Show message
    function showMessage(text, type) {
      message.textContent = text;
      message.className = `message ${type}`;
      message.style.display = 'block';

      setTimeout(function() {
        message.style.display = 'none';
      }, 4000);
    }
  </script>
</body>
</html>